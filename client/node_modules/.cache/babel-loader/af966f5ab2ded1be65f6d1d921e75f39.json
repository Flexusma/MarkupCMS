{"remainingRequest":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\babel-loader\\lib\\index.js!B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!B:\\Gitkraken\\MarkupCMS\\client\\src\\router\\index.js","dependencies":[{"path":"B:\\Gitkraken\\MarkupCMS\\client\\src\\router\\index.js","mtime":1610100075644},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCB7IGF1dGhHdWFyZCB9IGZyb20gIkAvYXV0aC9hdXRoR3VhcmQiOwppbXBvcnQgUGVybWlzc2lvbiBmcm9tICJAL2F1dGgvcGVybWlzc2lvbiI7CmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVJvdXRlcih7CiAgbW9kZTogImhpc3RvcnkiLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnLycsCiAgICBuYW1lOiAnaG9tZScsCiAgICBjb21wb25lbnQ6IEhvbWUKICB9LCB7CiAgICBwYXRoOiAnL2Fib3V0JywKICAgIG5hbWU6ICdhYm91dCcsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvQWJvdXQudnVlJyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9wb3N0L3JldmlldycsCiAgICBuYW1lOiAncG9zdFJldmlldycsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUG9zdFJldmlldy52dWUnKTsKICAgIH0sCiAgICBiZWZvcmVFbnRlcjogYXV0aEd1YXJkCiAgfSwgewogICAgcGF0aDogJy9wb3N0LzppZCcsCiAgICBuYW1lOiAncG9zdFNpbmdsZScsCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUG9zdFNpbmdsZS52dWUnKTsKICAgIH0sCiAgICBiZWZvcmVFbnRlcjogYXV0aEd1YXJkCiAgfSwgLy9hdXRoCiAgewogICAgcGF0aDogJy9sb2dpbicsCiAgICBuYW1lOiAnbG9naW4nLAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2F1dGgvTG9naW4nKTsKICAgIH0KICB9LCAvL2NyZWF0ZQogIHsKICAgIHBhdGg6ICcvY3JlYXRlL3Bvc3QnLAogICAgbmFtZTogJ3Bvc3RfY3JlYXRlJywKICAgIG1ldGE6IGFkZE1ldGEoUGVybWlzc2lvbi5DUkVBVEVfUE9TVCwgUGVybWlzc2lvbi5DUkVBVEVfVVNFUiksCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvY3JlYXRlL1Bvc3RfY3JlYXRlJyk7CiAgICB9LAogICAgYmVmb3JlRW50ZXI6IGF1dGhHdWFyZAogIH0sIHsKICAgIHBhdGg6ICcvY3JlYXRlL2F1dGhvcicsCiAgICBuYW1lOiAnYXV0aG9yX2NyZWF0ZScsCiAgICBtZXRhOiBhZGRNZXRhKFBlcm1pc3Npb24uQ1JFQVRFX1BPU1QsIFBlcm1pc3Npb24uQ1JFQVRFX0FVVEhPUiksCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvY3JlYXRlL0F1dGhvcl9jcmVhdGUnKTsKICAgIH0sCiAgICBiZWZvcmVFbnRlcjogYXV0aEd1YXJkCiAgfV0KfSk7CgpmdW5jdGlvbiBhZGRNZXRhKCkgewogIHZhciBwZXJtID0gMDsKCiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBlcm1zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgcGVybXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgfQoKICBjb25zb2xlLmxvZygiQWRkaW5nIG1ldGEgdG8gcm91dGU6IHBlcm1zOiAiICsgcGVybXMpOwoKICBmb3IgKHZhciBfaSA9IDAsIF9wZXJtcyA9IHBlcm1zOyBfaSA8IF9wZXJtcy5sZW5ndGg7IF9pKyspIHsKICAgIHZhciBwZXIgPSBfcGVybXNbX2ldOwogICAgcGVybSA9IHBlcm0gfHwgcGVyOwogIH0KCiAgcmV0dXJuIHsKICAgIHBlcm1pc3Npb246IHBlcm0KICB9Owp9"},{"version":3,"sources":["B:/Gitkraken/MarkupCMS/client/src/router/index.js"],"names":["createRouter","createWebHistory","Home","authGuard","Permission","mode","base","process","env","BASE_URL","history","routes","path","name","component","beforeEnter","meta","addMeta","CREATE_POST","CREATE_USER","CREATE_AUTHOR","perm","perms","console","log","per","permission"],"mappings":";AACA,SAAQA,YAAR,EAAsBC,gBAAtB,QAA6C,YAA7C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AAGA,eAAeJ,YAAY,CAAC;AAC1BK,EAAAA,IAAI,EAAE,SADoB;AAE1BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFQ;AAG1BC,EAAAA,OAAO,EAAET,gBAAgB,EAHC;AAI1BU,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAEZ;AAHb,GADM,EAMN;AACEU,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,oBAAP,CAAN;AAAA;AAHb,GANM,EAWN;AACEF,IAAAA,IAAI,EAAE,cADR;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA,KAHb;AAIEC,IAAAA,WAAW,EAAEZ;AAJf,GAXM,EAiBN;AACES,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,yBAAP,CAAN;AAAA,KAHb;AAIEC,IAAAA,WAAW,EAAEZ;AAJf,GAjBM,EAwBN;AACA;AACES,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,qBAAP,CAAN;AAAA;AAHb,GAzBM,EA8BN;AACA;AACEF,IAAAA,IAAI,EAAE,cADR;AAEEC,IAAAA,IAAI,EAAE,aAFR;AAGEG,IAAAA,IAAI,EAACC,OAAO,CAACb,UAAU,CAACc,WAAZ,EAAwBd,UAAU,CAACe,WAAnC,CAHd;AAIEL,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,6BAAP,CAAN;AAAA,KAJb;AAKEC,IAAAA,WAAW,EAAEZ;AALf,GA/BM,EAsCN;AACES,IAAAA,IAAI,EAAE,gBADR;AAEEC,IAAAA,IAAI,EAAE,eAFR;AAGEG,IAAAA,IAAI,EAACC,OAAO,CAACb,UAAU,CAACc,WAAZ,EAAwBd,UAAU,CAACgB,aAAnC,CAHd;AAIEN,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,+BAAP,CAAN;AAAA,KAJb;AAKEC,IAAAA,WAAW,EAAEZ;AALf,GAtCM;AAJkB,CAAD,CAA3B;;AAqDA,SAASc,OAAT,GAA2B;AACzB,MAAII,IAAI,GAAE,CAAV;;AADyB,oCAAPC,KAAO;AAAPA,IAAAA,KAAO;AAAA;;AAEzBC,EAAAA,OAAO,CAACC,GAAR,CAAY,kCAAgCF,KAA5C;;AACA,4BAAiBA,KAAjB,4BAAuB;AAAnB,QAAMG,GAAG,aAAT;AACFJ,IAAAA,IAAI,GAACA,IAAI,IAAEI,GAAX;AACD;;AACD,SAAM;AACJC,IAAAA,UAAU,EAAEL;AADR,GAAN;AAGD","sourcesContent":["\r\nimport {createRouter, createWebHistory} from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport { authGuard } from \"@/auth/authGuard\";\r\nimport Permission from \"@/auth/permission\";\r\n\r\n\r\nexport default createRouter({\r\n  mode: \"history\",\r\n  base: process.env.BASE_URL,\r\n  history: createWebHistory(),\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      component: Home\r\n    },\r\n    {\r\n      path: '/about',\r\n      name: 'about',\r\n      component: () => import('../views/About.vue')\r\n    },\r\n    {\r\n      path: '/post/review',\r\n      name: 'postReview',\r\n      component: () => import('../views/PostReview.vue'),\r\n      beforeEnter: authGuard\r\n    },\r\n    {\r\n      path: '/post/:id',\r\n      name: 'postSingle',\r\n      component: () => import('../views/PostSingle.vue'),\r\n      beforeEnter: authGuard\r\n    },\r\n\r\n    //auth\r\n    {\r\n      path: '/login',\r\n      name: 'login',\r\n      component: () => import('../views/auth/Login')\r\n    },\r\n    //create\r\n    {\r\n      path: '/create/post',\r\n      name: 'post_create',\r\n      meta:addMeta(Permission.CREATE_POST,Permission.CREATE_USER),\r\n      component: () => import('../views/create/Post_create'),\r\n      beforeEnter: authGuard\r\n    },\r\n    {\r\n      path: '/create/author',\r\n      name: 'author_create',\r\n      meta:addMeta(Permission.CREATE_POST,Permission.CREATE_AUTHOR),\r\n      component: () => import('../views/create/Author_create'),\r\n      beforeEnter: authGuard\r\n    },\r\n\r\n  ]\r\n})\r\n\r\nfunction addMeta(...perms) {\r\n  let perm =0;\r\n  console.log(\"Adding meta to route: perms: \"+perms)\r\n  for(const per of perms){\r\n    perm=perm||per;\r\n  }\r\n  return{\r\n    permission: perm,\r\n  }\r\n}"]}]}