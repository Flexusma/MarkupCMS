{"remainingRequest":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\babel-loader\\lib\\index.js!B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!B:\\Gitkraken\\MarkupCMS\\client\\src\\views\\PostSingle.vue?vue&type=template&id=18067ec2&scoped=true","dependencies":[{"path":"B:\\Gitkraken\\MarkupCMS\\client\\src\\views\\PostSingle.vue","mtime":1610301050945},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTE4MDY3ZWMyIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0xODA2N2VjMiIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogICJjbGFzcyI6ICJldmVudC1zaW5nbGUiCn07CnZhciBfaG9pc3RlZF8yID0gewogICJjbGFzcyI6ICJldmVudC1jb250ZW50IG0tMyIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgImNsYXNzIjogImNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgImNsYXNzIjogInBvc3QtdGl0bGUiCn07CnZhciBfaG9pc3RlZF81ID0gewogICJjbGFzcyI6ICJtLWF1dG8gYWxpZ24taXRlbXMtY2VudGVyIHRleHQtY2VudGVyIHJvdyBwb3N0LWJ0bnMiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGtleTogMCwKICAiY2xhc3MiOiAibS0zIgp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBrZXk6IDEsCiAgImNsYXNzIjogIm0tMyIKfTsKdmFyIF9ob2lzdGVkXzggPSB7CiAga2V5OiAxLAogICJjbGFzcyI6ICJ0ZXh0LWNlbnRlciBtLTMiCn07CnZhciBfaG9pc3RlZF85ID0gewogIGtleTogMAp9Owp2YXIgX2hvaXN0ZWRfMTAgPSB7CiAga2V5OiAxCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfSGVybyA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZXJvIik7CgogIHZhciBfY29tcG9uZW50X0Rhc2ggPSBfcmVzb2x2ZUNvbXBvbmVudCgiRGFzaCIpOwoKICB2YXIgX2NvbXBvbmVudF9BdXRob3JEaXNwbGF5ID0gX3Jlc29sdmVDb21wb25lbnQoIkF1dGhvckRpc3BsYXkiKTsKCiAgdmFyIF9jb21wb25lbnRfU3Bpbm5lciA9IF9yZXNvbHZlQ29tcG9uZW50KCJTcGlubmVyIik7CgogIHJldHVybiAkZGF0YS5sb2FkZWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9IZXJvLCB7CiAgICB0aXRsZTogJGRhdGEucG9zdC50aXRsZSwKICAgIGRlc2M6ICRvcHRpb25zLmdldERhdGUoJGRhdGEucG9zdC5jcmVhdGlvbl9kYXRlKQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0aXRsZSIsICJkZXNjIl0pLCBfY3JlYXRlVk5vZGUoInNlY3Rpb24iLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRGFzaCksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgiaDEiLCBfaG9pc3RlZF80LCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLnBvc3QudGl0bGUpLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgic3BhbiIsIHsKICAgICJjbGFzcyI6ICJwb3N0LWNvbnRlbnQgY29sLWF1dG8iLAogICAgaW5uZXJIVE1MOiAkZGF0YS5wb3N0LmNvbnRlbnQKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiaW5uZXJIVE1MIl0pXSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQXV0aG9yRGlzcGxheSwgewogICAgaWQ6ICRkYXRhLnBvc3QuYXV0aG9yX2lkCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImlkIl0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFskb3B0aW9ucy5oYXNJREVMUGVybWlzc2lvbigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF82LCBbX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICB0eXBlOiAiYnV0dG9uIiwKICAgICJjbGFzcyI6ICJidG4gYnRuLWRhbmdlciIsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZVBvc3QoKTsKICAgIH0pCiAgfSwgIkRlbGV0ZSIpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkb3B0aW9ucy5oYXNJUkVMUGVybWlzc2lvbigpID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF83LCBbISRkYXRhLnBvc3RbInB1YmxpYyJdID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDAsCiAgICB0eXBlOiAiYnV0dG9uIiwKICAgICJjbGFzcyI6ICJidG4gYnRuLXN1Y2Nlc3MiLAogICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5yZWxlYXNlUG9zdCgpOwogICAgfSkKICB9LCAiVmVyw7ZmZmVudGxpY2hlbiIpKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiAxLAogICAgdHlwZTogImJ1dHRvbiIsCiAgICAiY2xhc3MiOiAiYnRuIGJ0bi13YXJuaW5nIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuaGlkZVBvc3QoKTsKICAgIH0pCiAgfSwgIlp1csO8Y2t6aWVoZW4iKSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfOCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1NwaW5uZXIpLCAhJGRhdGEuZXJyb3JfbXNnID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJoMSIsIF9ob2lzdGVkXzksICJMb2FkaW5nLi4uIikpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJoMSIsIF9ob2lzdGVkXzEwLCBfdG9EaXNwbGF5U3RyaW5nKCRkYXRhLmVycm9yX21zZyksIDEKICAvKiBURVhUICovCiAgKSldKSk7Cn0pOw=="},{"version":3,"sources":["B:\\Gitkraken\\MarkupCMS\\client\\src\\views\\PostSingle.vue"],"names":[],"mappings":";;;;;;;;AACO,WAAM;;;AAEA,WAAM;;;AAER,WAAM;;;AACL,WAAM;;;AAOT,WAAM;;;;AACuB,WAAM;;;;AAGN,WAAM;;;;AAM9B,WAAM;;;;;;;;;;;;;;;;;;;;SAtBc,KAAA,CAAA,M,kBAAhC,YAAA,CAqBM,KArBN,EAAA,UAAA,EAqBM,CApBJ,YAAA,CAA+D,eAA/D,EAA+D;AAAxD,IAAA,KAAK,EAAE,KAAA,CAAA,IAAA,CAAK,KAA4C;AAApC,IAAA,IAAI,EAAE,QAAA,CAAA,OAAA,CAAQ,KAAA,CAAA,IAAA,CAAK,aAAb;AAA8B,GAA/D,E,IAAA,E;;AAAA,I,iBAAA,CAoBI,EAnBJ,YAAA,CAQU,SARV,EAAA,UAAA,EAQU,CAPR,YAAA,CAAO,eAAP,CAOQ,EANR,YAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJJ,YAAA,CAA0C,IAA1C,EAAA,UAAA,EAA0C,gBAAA,CAAjB,KAAA,CAAA,IAAA,CAAK,KAAY,CAA1C,EAAmC;AAAA;AAAnC,GAII,EAHJ,YAAA,CAEO,MAFP,EAEO;AAFD,aAAM,uBAEL;AAF6B,IAAA,SAAqB,EAAb,KAAA,CAAA,IAAA,CAAK;AAE1C,GAFP,E,IAAA,E;;AAAA,I,aAAA,CAGI,CALN,CAMQ,CARV,CAmBI,EAVJ,YAAA,CAAqC,wBAArC,EAAqC;AAArB,IAAA,EAAE,EAAE,KAAA,CAAA,IAAA,CAAK;AAAY,GAArC,E,IAAA,E;;AAAA,I,MAAA,CAUI,EATJ,YAAA,CAQM,KARN,EAAA,UAAA,EAQM,CAPO,QAAA,CAAA,iBAAA,E,kBAAX,YAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAAkF,QAAlF,EAAkF;AAA1E,IAAA,IAAI,EAAC,QAAqE;AAA5D,aAAM,gBAAsD;AAApC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,UAAA,EAAF;AAAA,KAAA;AAA+B,GAAlF,EAAmE,QAAnE,CACI,CAFN,C,qCAOI,EAJO,QAAA,CAAA,iBAAA,E,kBAAX,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,C,CAFW,KAAA,CAAA,IAAA,U,kBAAf,YAAA,CAAiH,QAAjH,EAAiH;UAAA;AAArF,IAAA,IAAI,EAAC,QAAgF;AAAvE,aAAM,iBAAiE;AAA9C,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,WAAA,EAAF;AAAA,KAAA;AAAyC,GAAjH,EAAyF,iBAAzF,C,mBACA,YAAA,CAA8F,QAA9F,EAA8F;UAAA;AAA/E,IAAA,IAAI,EAAC,QAA0E;AAAjE,aAAM,iBAA2D;AAAxC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,QAAA,EAAF;AAAA,KAAA;AAAmC,GAA9F,EAAyE,cAAzE,C,CACI,CAHN,C,qCAII,CARN,CASI,CArBN,C,mBAsBA,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAAU,kBAAV,CAGI,E,CAFO,KAAA,CAAA,S,kBAAX,YAAA,CAAqC,IAArC,EAAqC,UAArC,EAAsB,YAAtB,C,mBACA,YAAA,CAA6B,IAA7B,EAA6B,WAA7B,EAA6B,gBAAA,CAAhB,KAAA,CAAA,SAAgB,CAA7B,EAAsB;AAAA;AAAtB,G,CACI,CAJN,C","sourcesContent":["<template>\r\n  <div class=\"event-single\" v-if=\"loaded\">\r\n    <Hero :title=\"post.title\" :desc=\"getDate(post.creation_date)\"/>\r\n    <section class=\"event-content m-3\">\r\n      <Dash/>\r\n      <div class=\"container\">\r\n        <h1 class=\"post-title\">{{post.title}}</h1>\r\n        <span class=\"post-content col-auto\" v-html=\"post.content\" >\r\n\r\n        </span>\r\n      </div>\r\n    </section>\r\n    <AuthorDisplay :id=\"post.author_id\"/>\r\n    <div class=\"m-auto align-items-center text-center row post-btns\">\r\n      <div v-if=\"hasIDELPermission()\" class=\"m-3\">\r\n        <button type=\"button\" class=\"btn btn-danger\" @click=\"deletePost()\">Delete</button>\r\n      </div>\r\n      <div v-if=\"hasIRELPermission()\" class=\"m-3\">\r\n        <button v-if=\"!post.public\" type=\"button\" class=\"btn btn-success\" @click=\"releasePost()\">Veröffentlichen</button>\r\n        <button v-else type=\"button\" class=\"btn btn-warning\" @click=\"hidePost()\">Zurückziehen</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div v-else class=\"text-center m-3\">\r\n    <Spinner/>\r\n    <h1 v-if=\"!error_msg\">Loading...</h1>\r\n    <h1 v-else>{{error_msg}}</h1>\r\n  </div>\r\n</template>\r\n<script>\r\n// import EventService\r\nimport PostService from '@/services/PostService.js';\r\nimport Hero from \"@/components/partials/Hero\";\r\nimport Spinner from \"@/components/partials/Spinner\";\r\nimport Dash from \"@/components/partials/Dash\";\r\nimport Permission from \"@/auth/permission\";\r\nimport AuthorDisplay from \"@/components/AuthorDisplay\";\r\nimport {app, lang} from \"@/main\";\r\n\r\nvar dateFormat = require('dateformat');\r\nexport default {\r\n  name: 'EventSingle',\r\n  components: {AuthorDisplay, Dash, Spinner, Hero},\r\n  data() {\r\n    // initialize the event object\r\n    return {\r\n      loaded: false,\r\n      post: undefined,\r\n      error_msg:undefined,\r\n    }\r\n  },\r\n  created() {\r\n    this.getEventData();\r\n  },\r\n  methods: {\r\n    async deletePost(){\r\n      let res = await PostService.deletePost(this.post.id);\r\n      console.log(res)\r\n      await this.getEventData();\r\n    },\r\n    async releasePost(){\r\n      let res = await PostService.releasePost(this.post.id,true);\r\n      console.log(res)\r\n      await this.getEventData();\r\n    },\r\n    async hidePost(){\r\n      let res = await PostService.releasePost(this.post.id,false);\r\n      console.log(res)\r\n      await this.getEventData();\r\n    },\r\n    hasIDELPermission(){\r\n      let res = Permission.hasIPermission(Permission.DELETE_POST);\r\n      console.log(res)\r\n      return res;\r\n    },\r\n    hasIRELPermission(){\r\n      let res = Permission.hasIPermission(Permission.RELEASE_POST);\r\n      console.log(res)\r\n      return res;\r\n    },\r\n    async getEventData() {\r\n      PostService.getPostSingle(this.$route.params.id).then((res) => {\r\n        console.log(res)\r\n        if(res.info.code!==200){\r\n          this.error_msg=lang.err_doesnt_exist\r\n        }else {\r\n          this.post = res.data;\r\n          this.loaded = true;\r\n        }\r\n      });\r\n    },\r\n    getDate(data){\r\n      console.log(data)\r\n      let date = new Date(Date.parse(data));\r\n      let fdate = dateFormat(date,\"d.mm.yyyy\");\r\n      return fdate;\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.post-content >>> img{\r\n  max-width: 100% !important;\r\n  height: auto;\r\n  border-radius: 10px;\r\n}\r\n.post-content::v-deep img{\r\n  max-width: 100% !important;\r\n  height: auto;\r\n  border-radius: 10px;\r\n}\r\n.post-content::v-deep h1,h2,h3,h4,h5,h6{\r\n  font-family: sohne, \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n  font-weight: 700;\r\n  text-transform: capitalize;\r\n  letter-spacing: -0.034em;\r\n}\r\n.post-btns{\r\n  font-family: sohne, \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n}\r\n.post-content{\r\n  font-size: 1em;\r\n  @media (min-width: 400px) { font-size: 1.05em;}\r\n  @media (min-width: 440px) { font-size: 1.1em; }\r\n  @media (min-width: 500px) { font-size: 1.15em; }\r\n  @media (min-width: 630px) { font-size: 1.2em;  }\r\n  @media (min-width: 768px) { font-size: 1.25em; }\r\n  @media (min-width: 1200px) { font-size: 1.5em; }\r\n}\r\nbody{\r\n  background: #fff;\r\n}\r\nhtml{\r\n  background: #fff;\r\n}\r\n.event-content{\r\n  font-family: droid-serif, serif;\r\n  font-weight: 400;\r\n  font-style: normal;\r\n}\r\n.post-title{\r\n  font-family: sohne, \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n  font-weight: 700;\r\n  text-transform: capitalize;\r\n  letter-spacing: -0.034em;\r\n  font-size: 2.5em;\r\n  @media (min-width: 400px) { font-size: 2.75em; }\r\n  @media (min-width: 440px) { font-size: 3em; }\r\n  @media (min-width: 500px) { font-size: 3.25em; }\r\n  @media (min-width: 630px) { font-size: 3.5em;  }\r\n  @media (min-width: 768px) { font-size: 3.75em; }\r\n  @media (min-width: 1200px) { font-size: 4em; }\r\n}\r\n</style>"],"sourceRoot":""}]}