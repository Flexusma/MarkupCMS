(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2167c5"],{c354:function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),c=Object(r["P"])("data-v-52a29351");Object(r["w"])("data-v-52a29351");var n={id:"author-create"},o={key:0},i={key:0},s={key:1},u={class:"card m-3"},d={key:0,class:"badge-danger"},l=Object(r["i"])("input",{class:"m-0",type:"submit",value:"Speichern"},null,-1),p={key:1,class:"align-items-center p-3 text-center"},b=Object(r["i"])("h1",null,"Loading...",-1);Object(r["u"])();var h=c((function(e,t,a,c,h,m){var O=Object(r["B"])("Hero"),_=Object(r["B"])("AuthorDisplay"),j=Object(r["B"])("Modal"),f=Object(r["B"])("AdaptiveInput"),g=Object(r["B"])("ImageGalleryPicker"),v=Object(r["B"])("AdaptiveUserSelect"),y=Object(r["B"])("Spinner");return Object(r["t"])(),Object(r["e"])("section",n,[Object(r["i"])(O,{title:"Create Author Profile",desc:h.hero_msg},null,8,["desc"]),h.loaded?(Object(r["t"])(),Object(r["e"])("div",o,[void 0!==h.author?(Object(r["t"])(),Object(r["e"])("div",i,[Object(r["i"])(_,{opt_name:h.author.name,opt_desc:h.author.desc},null,8,["opt_name","opt_desc"])])):(Object(r["t"])(),Object(r["e"])("div",s,[Object(r["i"])(_,{opt_name:h.inp_name,opt_desc:h.inp_desc,opt_img:h.picture_id},null,8,["opt_name","opt_desc","opt_img"]),Object(r["i"])(j,{mid:"author-create-modal",title:"Success",body:"Author was created successfully",buttons:h.modal_buttons},null,8,["buttons"]),Object(r["i"])("div",u,[Object(r["i"])("form",{onSubmit:t[5]||(t[5]=Object(r["O"])((function(){return m.submitAuthor&&m.submitAuthor.apply(m,arguments)}),["prevent"])),class:"card-body"},[""!==h.error_msg?(Object(r["t"])(),Object(r["e"])("p",d,Object(r["E"])(h.error_msg),1)):Object(r["f"])("",!0),Object(r["i"])(f,{class:"mt-3",type:"text",placeholder:"Name",onValueChange:t[1]||(t[1]=function(e){return h.inp_name=e})}),Object(r["i"])(f,{class:"mt-3",type:"text",placeholder:"Short description",onValueChange:t[2]||(t[2]=function(e){return h.inp_desc=e})}),Object(r["i"])(g,{class:"mt-3",title:"Profilbild w√§hlen (optional)",onValueChange:t[3]||(t[3]=function(e){return h.picture_id=e})}),m.hasAuthorOtherPerm?(Object(r["t"])(),Object(r["e"])(v,{key:1,class:"mt-3",onValueChange:t[4]||(t[4]=function(e){return h.inp_usr_id=e})})):Object(r["f"])("",!0),Object(r["i"])("p",null,"Selected user ID: "+Object(r["E"])(h.inp_usr_id),1),l],32)])]))])):(Object(r["t"])(),Object(r["e"])("div",p,[Object(r["i"])(y),b]))])})),m=(a("96cf"),a("1da1")),O=a("16f7"),_=a("c20d"),j=a("ba16"),f=a("1e39"),g=a("fa34"),v=a("714b"),y=a("1157"),A=a.n(y),w=a("56d7"),k=a("4c95"),S=a("e68f"),B=a("1080"),P=a("a7fc"),C={name:"Author_create",components:{Spinner:P["a"],ImageGalleryPicker:S["a"],Modal:v["a"],AdaptiveUserSelect:f["a"],AdaptiveInput:j["a"],AuthorDisplay:_["a"],Hero:O["a"]},methods:{submitAuthor:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g["a"].createAuthor(e.inp_name,e.inp_desc,e.inp_usr_id,e.picture_id);case 2:a=t.sent,w["constant"].debug&&console.log(a),200===a.data.info.code?A()("#author-create-modal").appendTo("body").modal("show"):e.error_msg=w["lang"].err_author_create+JSON.stringify(a.data.error);case 5:case"end":return t.stop()}}),t)})))()},hasAuthorOtherPerm:function(){return B["a"].hasPermission(k["a"].user.permission,B["a"].CREATE_AUTHOR_OTHER)}},data:function(){var e=this;return g["a"].getAuthorByUser(k["a"].user.id).then((function(t){w["constant"].debug&&console.log(t),200===t.info.code&&(e.author=t.data,e.hero_msg="You already have an author profile."),e.loaded=!0})),{inp_name:"",inp_desc:"",inp_usr_id:k["a"].user.id,picture_id:void 0,error_msg:"",hero_msg:"Go ahead...",loaded:!1,author:void 0,modal_buttons:[{title:"Ok",styles:"btn-success",action:function(){k["a"].push("home")}}]}},watch:{picture_id:function(){w["constant"].debug&&console.log(this.picture_id)}}};C.render=h,C.__scopeId="data-v-52a29351";t["default"]=C}}]);
//# sourceMappingURL=chunk-2d2167c5.be49329e.js.map