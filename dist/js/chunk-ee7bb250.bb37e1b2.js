(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee7bb250"],{"714b":function(t,e,n){"use strict";var o=n("7a23"),i=Object(o["P"])("data-v-4ae1b702");Object(o["w"])("data-v-4ae1b702");var a={class:"modal-dialog modal-dialog-centered",role:"document"},r={class:"modal-content"},c={class:"modal-header"},l={class:"modal-title",id:"modalTitle"},u=Object(o["i"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(o["i"])("span",{"aria-hidden":"true"},"Ã—")],-1),s={key:0,class:"modal-footer"};Object(o["u"])();var d=i((function(t,e,n,i,d,b){return Object(o["t"])(),Object(o["e"])("div",{class:"modal fade",id:n.mid,tabindex:"-1",role:"dialog","aria-labelledby":"displayModalCenterTitle","aria-hidden":"true"},[Object(o["i"])("div",a,[Object(o["i"])("div",r,[Object(o["i"])("div",c,[Object(o["i"])("h5",l,Object(o["E"])(n.title),1),u]),Object(o["i"])("div",{innerHTML:n.body,class:"modal-body"},null,8,["innerHTML"]),void 0!==n.buttons?(Object(o["t"])(),Object(o["e"])("div",s,[(Object(o["t"])(!0),Object(o["e"])(o["a"],null,Object(o["z"])(n.buttons,(function(t){return Object(o["t"])(),Object(o["e"])("button",{key:t.title,type:"button",class:[t.styles,"btn"],"data-dismiss":"modal",onClick:function(e){return t.action()}},"Close",10,["onClick"])})),128))])):Object(o["f"])("",!0)])])],8,["id"])})),b={name:"Modal",props:["mid","title","body","buttons"]};b.render=d,b.__scopeId="data-v-4ae1b702";e["a"]=b},a4c1:function(t,e,n){"use strict";n.r(e);var o=n("7a23"),i=Object(o["P"])("data-v-fe392b7a");Object(o["w"])("data-v-fe392b7a");var a={id:"editor"},r={class:"container-fluid"};Object(o["u"])();var c=i((function(t,e,n,i,c,l){var u=Object(o["B"])("Hero"),s=Object(o["B"])("editor"),d=Object(o["B"])("Modal");return Object(o["t"])(),Object(o["e"])("section",a,[Object(o["i"])(u,{title:"New Post"}),Object(o["i"])("div",r,[Object(o["M"])(Object(o["i"])("input",{type:"text",class:"form-control mt-3 mb-3 ","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.title=e}),placeholder:"Titel eingeben"},null,512),[[o["I"],t.title]]),Object(o["i"])(s,{modelValue:t.content,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.content=e}),"api-key":"no-api-key",id:"tinyedit",init:{height:800,images_upload_url:t.api.api_base_url+t.api.api_image_path,images_upload_credentials:!0,menubar:!1,plugins:["advlist autolink autosave lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic forecolor backcolor |            alignleft aligncenter alignright alignjustify |            restoredraft image |            bullist numlist outdent indent | removeformat | help  "}},null,8,["modelValue","init"]),Object(o["i"])("input",{type:"button",class:"mt-3",value:"Absenden",onClick:e[3]||(e[3]=function(t){return l.submit()})}),Object(o["i"])("p",null,Object(o["E"])(t.title+" "+t.content),1),Object(o["i"])(d,{mid:"postinfo",title:"An error occured",body:t.error_msg+"\nPost was saved as a draft locally in your browser, you can load it with the restore button on the right side of the toolbar, after reloading the page.",buttons:t.modal_buttons},null,8,["body","buttons"]),Object(o["i"])(d,{mid:"postsuccess",title:"Post created",body:t.error_msg+"\nPost ["+t.title+"] was successfully created!",buttons:t.modal_buttons},null,8,["body","buttons"])])])})),l=(n("96cf"),n("1da1")),u=n("16f7"),s=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],d=function(t){return-1!==s.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},b=function(t,e,n){Object.keys(e).filter(d).forEach((function(o){var i=e[o];"function"===typeof i&&("onInit"===o?i(t,n):n.on(o.substring(2),(function(t){return i(t,n)})))}))},f=function(t,e,n,i){var a=t.modelEvents?t.modelEvents:null,r=Array.isArray(a)?a.join(" "):a;Object(o["K"])(i,(function(e,o){n&&"string"===typeof e&&e!==o&&e!==n.getContent({format:t.outputFormat})&&n.setContent(e)})),n.on(r||"change input undo redo",(function(){e.emit("update:modelValue",n.getContent({format:t.outputFormat}))}))},p=function(t,e,n,o,i,a){o.setContent(a()),n.attrs["onUpdate:modelValue"]&&f(e,n,o,i),b(t,n.attrs,o)},m=0,v=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return m++,t+"_"+n+m+String(e)},y=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},g=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},O=function(t,e){return g(t).concat(g(e))},j=function(t){return null===t||void 0===t},h=function(){return{listeners:[],scriptId:v("tiny-script"),scriptLoaded:!1}},C=function(){var t=h(),e=function(t,e,n,o){var i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=t,i.src=n;var a=function(){i.removeEventListener("load",a),o()};i.addEventListener("load",a),e.head&&e.head.appendChild(i)},n=function(n,o,i){t.scriptLoaded?i():(t.listeners.push(i),n.getElementById(t.scriptId)||e(t.scriptId,n,o,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},o=function(){t=h()};return{load:n,reinitialize:o}},w=C(),S=n("c4a9"),k={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},_=function(){return _=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},_.apply(this,arguments)},M=function(t,e,n,o){return t(o||"div",{id:e,ref:n})},P=function(t,e,n){return t("textarea",{id:e,visibility:"hidden",ref:n})},D=Object(o["j"])({props:k,setup:function(t,e){var n=Object(o["F"])(t),i=n.disabled,a=n.modelValue,r=Object(o["y"])(null),c=null,l=t.id||v("tiny-vue"),u=t.init&&t.init.inline||t.inline,s=!!e.attrs["onUpdate:modelValue"],d=!0,b=t.initialValue?t.initialValue:"",f="",m=function(t){return s?function(){return(null===a||void 0===a?void 0:a.value)?a.value:""}:function(){return t?b:f}},g=function(){var n=m(d),o=_(_({},t.init),{readonly:t.disabled,selector:"#"+l,plugins:O(t.init&&t.init.plugins,t.plugins),toolbar:t.toolbar||t.init&&t.init.toolbar,inline:u,setup:function(o){c=o,o.on("init",(function(i){return p(i,t,e,o,a,n)})),t.init&&"function"===typeof t.init.setup&&t.init.setup(o)}});y(r.value)&&(r.value.style.visibility=""),Object(S["a"])().init(o),d=!1};return Object(o["K"])(i,(function(t){null!==c&&c.setMode(t?"readonly":"design")})),Object(o["r"])((function(){if(null!==Object(S["a"])())g();else if(r.value&&r.value.ownerDocument){var e=t.cloudChannel?t.cloudChannel:"5",n=t.apiKey?t.apiKey:"no-api-key",o=j(t.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+e+"/tinymce.min.js":t.tinymceScriptSrc;w.load(r.value.ownerDocument,o,g)}})),Object(o["p"])((function(){null!==Object(S["a"])()&&Object(S["a"])().remove(c)})),u||(Object(o["o"])((function(){d||g()})),Object(o["q"])((function(){var t;s||(f=c.getContent()),null===(t=Object(S["a"])())||void 0===t||t.remove(c)}))),function(){return u?M(o["l"],l,r,t.tagName):P(o["l"],l,r)}}}),E=D,A=n("7ee9"),x=n("56d7"),B=n("714b"),V=n("1157"),L=n.n(V),I={name:"Post_create",components:{Modal:B["a"],Hero:u["a"],editor:E},data:function(){return{content:"",title:"",error_msg:"",api:x["api"],modal_buttons:[{title:"Close",styles:"btn-danger",action:function(){location.reload()}}]}},methods:{submit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A["a"].createPost(t.title,t.content);case 2:n=e.sent,x["constant"].debug&&console.log(n),e.t0=n.data.info.code,e.next=612===e.t0?7:611===e.t0?9:11;break;case 7:return t.error_msg=n.data.info.message,e.abrupt("break",11);case 9:return t.error_msg=n.data.info.message,e.abrupt("break",11);case 11:if(200!==n.data.info.code){e.next=16;break}return L()("#postsuccess").appendTo("body").modal("show"),e.abrupt("return");case 16:L()("#postinfo").appendTo("body").modal("show");case 17:case"end":return e.stop()}}),e)})))()}}};I.render=c,I.__scopeId="data-v-fe392b7a";e["default"]=I},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var o=function(){return"undefined"!==typeof window?window:t},i=function(){var t=o();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))}}]);
//# sourceMappingURL=chunk-ee7bb250.bb37e1b2.js.map