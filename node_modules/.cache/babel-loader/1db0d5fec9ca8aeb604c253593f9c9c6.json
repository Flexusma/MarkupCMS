{"remainingRequest":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\babel-loader\\lib\\index.js!B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!B:\\Gitkraken\\MarkupCMS\\client\\src\\components\\partials\\ImageGalleryPicker.vue?vue&type=script&lang=js","dependencies":[{"path":"B:\\Gitkraken\\MarkupCMS\\client\\src\\components\\partials\\ImageGalleryPicker.vue","mtime":1610048119885},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQjovR2l0a3Jha2VuL01hcmt1cENNUy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgdnVlX3NlbGVjdF9pbWFnZSBmcm9tICd2dWUtc2VsZWN0LWltYWdlJzsKaW1wb3J0IEltYWdlU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0ltYWdlU2VydmljZSc7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSW1hZ2VHYWxsZXJ5UGlja2VyIiwKICBjb21wb25lbnRzOiB7CiAgICB2dWVfc2VsZWN0X2ltYWdlOiB2dWVfc2VsZWN0X2ltYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1hZ2VMaXN0OiB1bmRlZmluZWQsCiAgICAgIGltYWdlX3RvX3VwbG9hZDogdW5kZWZpbmVkCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGltYWdlX3RvX3VwbG9hZDogZnVuY3Rpb24gaW1hZ2VfdG9fdXBsb2FkKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlX3RvX3VwbG9hZCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBidG5fb2s6IGZ1bmN0aW9uIGJ0bl9vaygpIHsKICAgICAgcmV0dXJuOwogICAgfSwKICAgIGJ0bl9jbG9zZTogZnVuY3Rpb24gYnRuX2Nsb3NlKCkgewogICAgICByZXR1cm47CiAgICB9LAogICAgYnRuX3VwbG9hZDogZnVuY3Rpb24gYnRuX3VwbG9hZCgpIHsKICAgICAgJCgnI2ltYWdlLXVwbG9hZGVyJykubW9kYWwoKTsKICAgIH0sCiAgICBpbWFnZV9jaGFuZ2VkOiBmdW5jdGlvbiBpbWFnZV9jaGFuZ2VkKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaW5wdXQgPSBldmVudC50YXJnZXQ7CgogICAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHsKICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiaW1hZ2UgbG9hZGVkIiwgZSk7CiAgICAgICAgICBfdGhpcy5pbWFnZV90b191cGxvYWQgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgfTsKCiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pOwogICAgICB9CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIGlmICh0aGlzLmltYWdlX3RvX3VwbG9hZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaW1hZ2VfdG9fdXBsb2FkKSBJbWFnZVNlcnZpY2UudXBsb2FkSW1hZ2UodGhpcy5pbWFnZV90b191cGxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCJVcGxvYWRpbmcgSW1hZ2U6ICIsIHJlcyk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU2VsZWN0SW1hZ2U6IGZ1bmN0aW9uIG9uU2VsZWN0SW1hZ2UoaW1hZ2UpIHsKICAgICAgY29uc29sZS5sb2coIlNlbGVjdGVkIGltYWdlOiAiLCBpbWFnZSk7CiAgICB9LAogICAgc2hvd01vZGFsOiBmdW5jdGlvbiBzaG93TW9kYWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubG9hZENvbnRlbnQoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgJCgnI2ltYWdlLXBpY2tlcicpLm1vZGFsKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2FkQ29udGVudDogZnVuY3Rpb24gbG9hZENvbnRlbnQoKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBJbWFnZVNlcnZpY2UuZ2V0U2VsZkltYWdlcygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["B:\\Gitkraken\\MarkupCMS\\client\\src\\components\\partials\\ImageGalleryPicker.vue"],"names":[],"mappings":";;AA2DA,OAAO,gBAAP,MAA6B,kBAA7B;AACA,OAAO,YAAP,MAAyB,yBAAzB;AACA,OAAO,CAAP,MAAc,QAAd;AACA,eAAe;AACf,EAAA,IAAI,EAAE,oBADS;AAEb,EAAA,UAAU,EAAC;AACX,IAAA,gBAAe,EAAf;AADW,GAFE;AAKb,EAAA,IALa,kBAKN;AACL,WAAM;AACJ,MAAA,SAAS,EAAE,SADP;AAEJ,MAAA,eAAe,EAAE;AAFb,KAAN;AAID,GAVY;AAWb,EAAA,KAAK,EAAC;AACJ,IAAA,eAAe,EAAE,2BAAW;AAC1B,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,eAAjB;AACF;AAHI,GAXO;AAiBb,EAAA,OAAO,EAAC;AACN,IAAA,MADM,oBACE;AACN;AACD,KAHK;AAIN,IAAA,SAJM,uBAIK;AACT;AACD,KANK;AAON,IAAA,UAPM,wBAOM;AACV,MAAA,CAAC,CAAC,iBAAD,CAAD,CAAqB,KAArB;AACD,KATK;AAUN,IAAA,aAVM,yBAUQ,KAVR,EAUc;AAAA;;AAClB,UAAI,KAAI,GAAI,KAAK,CAAC,MAAlB;;AACA,UAAI,KAAK,CAAC,KAAN,IAAe,KAAK,CAAC,KAAN,CAAY,CAAZ,CAAnB,EAAmC;AACjC,YAAI,MAAK,GAAI,IAAI,UAAJ,EAAb;;AAEA,QAAA,MAAM,CAAC,MAAP,GAAgB,UAAC,CAAD,EAAO;AACrB,UAAA,OAAO,CAAC,GAAR,CAAY,cAAZ,EAA4B,CAA5B;AACA,UAAA,KAAI,CAAC,eAAL,GAAuB,CAAC,CAAC,MAAF,CAAS,MAAhC;AACD,SAHD;;AAIA,QAAA,MAAM,CAAC,aAAP,CAAqB,KAAK,CAAC,KAAN,CAAY,CAAZ,CAArB;AACF;AACD,KArBK;AAsBN,IAAA,MAtBM,oBAsBE;AACN,UAAG,KAAK,eAAL,KAAuB,SAAvB,IAAkC,KAAK,eAA1C,EACE,YAAY,CAAC,WAAb,CAAyB,KAAK,eAA9B,EAA+C,IAA/C,CAAoD,UAAC,GAAD,EAAQ;AAC1D,QAAA,OAAO,CAAC,GAAR,CAAY,mBAAZ,EAAgC,GAAhC;AACD,OAFD;AAGH,KA3BK;AA4BN,IAAA,aA5BM,yBA4BQ,KA5BR,EA4Bc;AAClB,MAAA,OAAO,CAAC,GAAR,CAAY,kBAAZ,EAA+B,KAA/B;AACD,KA9BK;AA+BA,IAAA,SA/BA,uBA+BW;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACT,MAAI,CAAC,WAAL,EADS;;AAAA;AAEf,gBAAA,CAAC,CAAC,eAAD,CAAD,CAAmB,KAAnB;;AAFe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGhB,KAlCK;AAmCA,IAAA,WAnCA,yBAmCa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACD,YAAY,CAAC,aAAb,EADC;;AAAA;AACb,gBAAA,GADa;AAEjB,gBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;;AAFiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGnB;AAtCM;AAjBK,CAAf","sourcesContent":["<template>\r\n  <section id=\"image-gallery-picker\">\r\n    <div>\r\n      <input type=\"button\" @click=\"showModal()\" value=\"Pick an Image\">\r\n    </div>\r\n    <div class=\"modal fade\" id=\"image-picker\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"displayModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"modalTitle\">Gallery</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"scroll-container\" v-if=\"imageList!==undefined\">\r\n              <vue_select_image\r\n                  :dataImages=\"imageList\"\r\n                  @onselectimage=\"onSelectImage\">\r\n              </vue_select_image>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button class=\"btn btn-primary\" data-dismiss=\"modal\" @click=\"btn_upload()\" >Upload</button>\r\n            <button class=\"btn btn-danger\" data-dismiss=\"modal\" @click=\"btn_close()\" >Close</button>\r\n            <button class=\"btn btn-success\" data-dismiss=\"modal\" @click=\"btn_ok()\" >Select</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal fade\" id=\"image-uploader\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"displayModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"modal-upload-Title\">Upload Image</h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"upload-container\">\r\n              <form v-on:submit.prevent=\"submit()\">\r\n                <input @change=\"image_changed\" type=\"file\" class=\"form-control\" accept=\"image/*\">\r\n                <input type=\"submit\" value=\"Abschicken\">\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button class=\"btn btn-primary\" @click=\"btn_upload()\" >Upload</button>\r\n            <button class=\"btn btn-danger\" data-dismiss=\"modal\" @click=\"btn_close()\" >Close</button>\r\n            <button class=\"btn btn-success\" data-dismiss=\"modal\" @click=\"btn_ok()\" >Select</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport vue_select_image from 'vue-select-image';\r\nimport ImageService from '@/services/ImageService';\r\nimport $ from 'jquery';\r\nexport default {\r\nname: \"ImageGalleryPicker\",\r\n  components:{\r\n  vue_select_image\r\n  },\r\n  data() {\r\n    return{\r\n      imageList: undefined,\r\n      image_to_upload: undefined,\r\n    }\r\n  },\r\n  watch:{\r\n    image_to_upload: function (){\r\n      console.log(this.image_to_upload);\r\n    }\r\n  },\r\n\r\n  methods:{\r\n    btn_ok(){\r\n      return\r\n    },\r\n    btn_close(){\r\n      return\r\n    },\r\n    btn_upload(){\r\n      $('#image-uploader').modal();\r\n    },\r\n    image_changed(event){\r\n      var input = event.target;\r\n      if (input.files && input.files[0]) {\r\n        var reader = new FileReader();\r\n\r\n        reader.onload = (e) => {\r\n          console.log(\"image loaded\", e)\r\n          this.image_to_upload = e.target.result;\r\n        };\r\n        reader.readAsDataURL(input.files[0]);\r\n      }\r\n    },\r\n    submit(){\r\n      if(this.image_to_upload!==undefined&&this.image_to_upload)\r\n        ImageService.uploadImage(this.image_to_upload).then((res) =>{\r\n          console.log(\"Uploading Image: \",res);\r\n        });\r\n    },\r\n    onSelectImage(image){\r\n      console.log(\"Selected image: \",image);\r\n    },\r\n    async showModal(){\r\n      await this.loadContent();\r\n      $('#image-picker').modal();\r\n    },\r\n    async loadContent(){\r\n      let res = await ImageService.getSelfImages();\r\n      console.log(res)\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}