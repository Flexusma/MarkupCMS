{"remainingRequest":"B:\\Gitkraken\\MarkupCMS\\node_modules\\babel-loader\\lib\\index.js!B:\\Gitkraken\\MarkupCMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!B:\\Gitkraken\\MarkupCMS\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!B:\\Gitkraken\\MarkupCMS\\src\\views\\create\\Post_create.vue?vue&type=script&lang=js","dependencies":[{"path":"B:\\Gitkraken\\MarkupCMS\\src\\views\\create\\Post_create.vue","mtime":1612548813881},{"path":"B:\\Gitkraken\\MarkupCMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"B:\\Gitkraken\\MarkupCMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\Gitkraken\\MarkupCMS\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQjovR2l0a3Jha2VuL01hcmt1cENNUy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBIZXJvIGZyb20gIkAvY29tcG9uZW50cy9wYXJ0aWFscy9IZXJvIjsKaW1wb3J0IEVkaXRvciBmcm9tICJAdGlueW1jZS90aW55bWNlLXZ1ZSI7CmltcG9ydCBQb3N0U2VydmljZSBmcm9tICJAL3NlcnZpY2VzL1Bvc3RTZXJ2aWNlIjsKaW1wb3J0IHsgYXBpLCBjb25zdGFudCB9IGZyb20gJ0AvbWFpbic7CmltcG9ydCBNb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvTW9kYWwiOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBvc3RfY3JlYXRlIiwKICBjb21wb25lbnRzOiB7CiAgICBNb2RhbDogTW9kYWwsCiAgICBIZXJvOiBIZXJvLAogICAgImVkaXRvciI6IEVkaXRvcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICB0aXRsZTogIiIsCiAgICAgIGVycm9yX21zZzogIiIsCiAgICAgIGFwaTogYXBpLAogICAgICBtb2RhbF9idXR0b25zOiBbewogICAgICAgIHRpdGxlOiAiQ2xvc2UiLAogICAgICAgIHN0eWxlczogImJ0bi1kYW5nZXIiLAogICAgICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKCkgewogICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfQogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIFBvc3RTZXJ2aWNlLmNyZWF0ZVBvc3QoX3RoaXMudGl0bGUsIF90aGlzLmNvbnRlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgaWYgKGNvbnN0YW50LmRlYnVnKSBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSByZXMuZGF0YS5pbmZvLmNvZGU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gX2NvbnRleHQudDAgPT09IDYxMiA/IDcgOiBfY29udGV4dC50MCA9PT0gNjExID8gOSA6IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yX21zZyA9IHJlcy5kYXRhLmluZm8ubWVzc2FnZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImJyZWFrIiwgMTEpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcl9tc2cgPSByZXMuZGF0YS5pbmZvLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDExKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICghKHJlcy5kYXRhLmluZm8uY29kZSA9PT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICQoJyNwb3N0c3VjY2VzcycpLmFwcGVuZFRvKCJib2R5IikubW9kYWwoJ3Nob3cnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgJCgnI3Bvc3RpbmZvJykuYXBwZW5kVG8oImJvZHkiKS5tb2RhbCgnc2hvdycpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["B:\\Gitkraken\\MarkupCMS\\src\\views\\create\\Post_create.vue"],"names":[],"mappings":";;AAqCA,OAAO,IAAP,MAAiB,4BAAjB;AACA,OAAO,MAAP,MAAmB,sBAAnB;AACA,OAAO,WAAP,MAAwB,wBAAxB;AACA,SAAQ,GAAR,EAAa,QAAb,QAA4B,QAA5B;AACA,OAAO,KAAP,MAAkB,oBAAlB;AACA,OAAO,CAAP,MAAc,QAAd;AACA,eAAe;AACf,EAAA,IAAI,EAAE,aADS;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,KAAK,EAAL,KADU;AAEV,IAAA,IAAI,EAAJ,IAFU;AAGV,cAAU;AAHA,GAFC;AAOb,EAAA,IAAI,EAAC,gBAAW;AAChB,WAAO;AACL,MAAA,OAAO,EAAC,EADH;AAEL,MAAA,KAAK,EAAC,EAFD;AAGL,MAAA,SAAS,EAAE,EAHN;AAIL,MAAA,GAAG,EAAE,GAJA;AAML,MAAA,aAAa,EAAC,CACZ;AACE,QAAA,KAAK,EAAE,OADT;AAEE,QAAA,MAAM,EAAE,YAFV;AAGE,QAAA,MAAM,EAAE,kBAAW;AACjB,UAAA,QAAQ,CAAC,MAAT;AACF;AALF,OADY;AANT,KAAP;AAgBD,GAxBc;AA0Bb,EAAA,OAAO,EAAE;AACD,IAAA,MADC,oBACQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEK,WAAW,CAAC,UAAZ,CAAuB,KAAI,CAAC,KAA5B,EAAmC,KAAI,CAAC,OAAxC,CAFL;;AAAA;AAEP,gBAAA,GAFO;AAGb,oBAAG,QAAQ,CAAC,KAAZ,EACA,OAAO,CAAC,GAAR,CAAY,GAAZ;AAJa,8BAKL,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,IALT;AAAA,gDAMN,GANM,uBAQN,GARM;AAAA;;AAAA;AAMD,gBAAA,KAAI,CAAC,SAAL,GAAe,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,OAA7B;AANC;;AAAA;AAQD,gBAAA,KAAI,CAAC,SAAL,GAAe,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,OAA7B;AARC;;AAAA;AAAA,sBAYV,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,IAAd,KAAqB,GAZX;AAAA;AAAA;AAAA;;AAaX,gBAAA,CAAC,CAAC,cAAD,CAAD,CAAkB,QAAlB,CAA2B,MAA3B,EAAmC,KAAnC,CAAyC,MAAzC;AAbW;;AAAA;AAgBX,gBAAA,CAAC,CAAC,WAAD,CAAD,CAAe,QAAf,CAAwB,MAAxB,EAAgC,KAAhC,CAAsC,MAAtC;;AAhBW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBf;AAnBO;AA1BI,CAAf","sourcesContent":["<template>\r\n  <section id=\"editor\">\r\n    <Hero title=\"New Post\"/>\r\n    <div class=\"container-fluid\">\r\n\r\n      <input type=\"text\" class=\"form-control mt-3 mb-3 \" v-model=\"title\" placeholder=\"Titel eingeben\">\r\n\r\n      <editor v-model=\"content\"\r\n          api-key=\"no-api-key\"\r\n          id=\"tinyedit\"\r\n          :init=\"{\r\n         height: 800,\r\n         images_upload_url: api.api_base_url+api.api_image_path,\r\n         images_upload_credentials: true,\r\n         menubar: false,\r\n         plugins: [\r\n           'advlist autolink autosave lists link image charmap print preview anchor',\r\n           'searchreplace visualblocks code fullscreen',\r\n           'insertdatetime media table paste code help wordcount'\r\n         ],\r\n         toolbar:\r\n           'undo redo | formatselect | bold italic forecolor backcolor | \\\r\n           alignleft aligncenter alignright alignjustify | \\\r\n           restoredraft image | \\\r\n           bullist numlist outdent indent | removeformat | help \\ '\r\n       }\"\r\n      />\r\n      <input type=\"button\" class=\"mt-3\" value=\"Absenden\" @click=\"submit()\">\r\n      <p>{{title +\" \"+content}}</p>\r\n      <Modal mid=\"postinfo\" title=\"An error occured\" :body=\"error_msg + '\\nPost was saved as a draft locally in your browser, you can load it with the restore button on the right side of the toolbar, after reloading the page.'\" :buttons=\"modal_buttons\"/>\r\n      <Modal mid=\"postsuccess\" title=\"Post created\" :body=\"error_msg + '\\nPost ['+ title+'] was successfully created!'\" :buttons=\"modal_buttons\"/>\r\n\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport Hero from \"@/components/partials/Hero\";\r\nimport Editor from \"@tinymce/tinymce-vue\";\r\nimport PostService from \"@/services/PostService\";\r\nimport {api, constant} from '@/main';\r\nimport Modal from \"@/components/Modal\";\r\nimport $ from 'jquery'\r\nexport default {\r\nname: \"Post_create\",\r\n  components: {\r\n    Modal,\r\n    Hero,\r\n    \"editor\": Editor\r\n},\r\n  data:function() {\r\n  return {\r\n    content:\"\",\r\n    title:\"\",\r\n    error_msg: \"\",\r\n    api: api,\r\n\r\n    modal_buttons:[\r\n      {\r\n        title: \"Close\",\r\n        styles: \"btn-danger\",\r\n        action: function (){\r\n          location.reload();\r\n        }\r\n      }\r\n    ],\r\n  };\r\n},\r\n\r\n  methods: {\r\n    async submit() {\r\n\r\n      const res = await PostService.createPost(this.title, this.content);\r\n      if(constant.debug)\r\n      console.log(res)\r\n      switch (res.data.info.code) {\r\n        case 612: this.error_msg=res.data.info.message;\r\n        break;\r\n        case 611: this.error_msg=res.data.info.message;\r\n          break;\r\n\r\n      }\r\n      if(res.data.info.code===200){\r\n        $('#postsuccess').appendTo(\"body\").modal('show');\r\n        return;\r\n      }else\r\n        $('#postinfo').appendTo(\"body\").modal('show');\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}]}